---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "grafana_asserts_profile_config Resource - terraform-provider-grafana"
subcategory: "Knowledge Graph"
description: |-
  Manages Knowledge Graph Profile Configuration through Grafana API.
---

# grafana_asserts_profile_config (Resource)

Manages Knowledge Graph Profile Configuration through Grafana API.

## Example Usage

```terraform
resource "grafana_asserts_profile_config" "production" {
  name            = "production"
  priority        = 1000
  default_config  = false
  data_source_uid = "grafanacloud-profiles"

  match {
    property = "asserts_entity_type"
    op       = "="
    values   = ["Service"]
  }

  match {
    property = "deployment_environment"
    op       = "="
    values   = ["production", "staging"]
  }

  match {
    property = "asserts_site"
    op       = "="
    values   = ["us-east-1", "us-west-2"]
  }

  entity_property_to_profile_label_mapping = {
    "cluster"        = "k8s_cluster_name"
    "namespace"      = "k8s_namespace_name"
    "container"      = "k8s_container_name"
    "otel_service"   = "service_name"
    "otel_namespace" = "service_namespace"
  }
}

resource "grafana_asserts_profile_config" "development" {
  name            = "development"
  priority        = 2000
  default_config  = false
  data_source_uid = "grafanacloud-profiles"

  match {
    property = "asserts_entity_type"
    op       = "="
    values   = ["Service"]
  }

  match {
    property = "deployment_environment"
    op       = "="
    values   = ["development", "testing"]
  }

  match {
    property = "asserts_site"
    op       = "="
    values   = ["us-east-1"]
  }

  match {
    property = "service"
    op       = "="
    values   = ["my sample api"]
  }

  entity_property_to_profile_label_mapping = {
    "cluster"        = "k8s_cluster_name"
    "namespace"      = "k8s_namespace_name"
    "container"      = "k8s_container_name"
    "otel_service"   = "service_name"
    "otel_namespace" = "service_namespace"
    "pod"            = "k8s_pod_name"
  }
}

resource "grafana_asserts_profile_config" "minimal" {
  name            = "minimal"
  priority        = 3000
  data_source_uid = "pyroscope-minimal"

  match {
    property = "asserts_entity_type"
    op       = "IS NOT NULL"
  }

  entity_property_to_profile_label_mapping = {
    "cluster"        = "k8s_cluster_name"
    "otel_service"   = "service_name"
    "otel_namespace" = "service_namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `data_source_uid` (String) DataSource to be queried (e.g., a Pyroscope instance).
- `default_config` (Boolean) Is it the default config, therefore undeletable?
- `name` (String) The name of the profile configuration.
- `priority` (Number) Priority of the profile configuration. A lower number means a higher priority.

### Optional

- `entity_property_to_profile_label_mapping` (Map of String) Mapping of entity properties to profile labels.
- `match` (Block List) List of match rules for entity properties. (see [below for nested schema](#nestedblock--match))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--match"></a>
### Nested Schema for `match`

Required:

- `op` (String) Operation to use for matching. One of: =, <>, <, >, <=, >=, IS NULL, IS NOT NULL, STARTS WITH, CONTAINS.
- `property` (String) Entity property to match.
- `values` (List of String) Values to match against.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import grafana_asserts_profile_config.name "{{ name }}"
```
