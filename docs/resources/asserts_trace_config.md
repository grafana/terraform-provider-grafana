---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "grafana_asserts_trace_config Resource - terraform-provider-grafana"
subcategory: "Knowledge Graph"
description: |-
  Manages Knowledge Graph Trace Configuration through Grafana API.
---

# grafana_asserts_trace_config (Resource)

Manages Knowledge Graph Trace Configuration through Grafana API.

## Example Usage

```terraform
resource "grafana_asserts_trace_config" "production" {
  name            = "production"
  priority        = 1000
  default_config  = false
  data_source_uid = "grafanacloud-traces"

  match {
    property = "asserts_entity_type"
    op       = "="
    values   = ["Service"]
  }

  match {
    property = "deployment_environment"
    op       = "="
    values   = ["production", "staging"]
  }

  match {
    property = "asserts_site"
    op       = "="
    values   = ["us-east-1", "us-west-2"]
  }

  entity_property_to_trace_label_mapping = {
    "cluster"        = "resource.k8s.cluster.name"
    "namespace"      = "resource.k8s.namespace"
    "container"      = "resource.container.name"
    "otel_service"   = "resource.service.name"
    "otel_namespace" = "resource.service.namespace"
  }
}

resource "grafana_asserts_trace_config" "development" {
  name            = "development"
  priority        = 2000
  default_config  = false
  data_source_uid = "grafanacloud-traces"

  match {
    property = "asserts_entity_type"
    op       = "="
    values   = ["Service"]
  }

  match {
    property = "deployment_environment"
    op       = "="
    values   = ["development", "testing"]
  }

  match {
    property = "asserts_site"
    op       = "="
    values   = ["us-east-1"]
  }

  match {
    property = "service"
    op       = "="
    values   = ["my sample api"]
  }

  entity_property_to_trace_label_mapping = {
    "cluster"        = "resource.k8s.cluster.name"
    "namespace"      = "resource.k8s.namespace"
    "container"      = "resource.container.name"
    "otel_service"   = "resource.service.name"
    "otel_namespace" = "resource.service.namespace"
    "pod"            = "span.k8s.pod.name"
  }
}

resource "grafana_asserts_trace_config" "minimal" {
  name            = "minimal"
  priority        = 3000
  data_source_uid = "tempo-minimal"

  match {
    property = "asserts_entity_type"
    op       = "IS NOT NULL"
  }

  entity_property_to_trace_label_mapping = {
    "cluster"        = "resource.k8s.cluster.name"
    "otel_service"   = "resource.service.name"
    "otel_namespace" = "resource.service.namespace"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `data_source_uid` (String) DataSource to be queried (e.g., a Tempo instance).
- `default_config` (Boolean) Is it the default config, therefore undeletable?
- `name` (String) The name of the trace configuration.
- `priority` (Number) Priority of the trace configuration. A lower number means a higher priority.

### Optional

- `entity_property_to_trace_label_mapping` (Map of String) Mapping of entity properties to trace labels.
- `match` (Block List) List of match rules for entity properties. (see [below for nested schema](#nestedblock--match))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--match"></a>
### Nested Schema for `match`

Required:

- `op` (String) Operation to use for matching. One of: equals, not equals, contains, does not contain, is null, is not null.
- `property` (String) Entity property to match.
- `values` (List of String) Values to match against.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `read` (String)
- `update` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import grafana_asserts_trace_config.name "{{ name }}"
```
