---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "grafana_service_account_rotating_token Resource - terraform-provider-grafana"
subcategory: "Grafana OSS"
description: |-
  Note: This resource is available only with Grafana 9.1+.
  Official documentation https://grafana.com/docs/grafana/latest/administration/service-accounts/HTTP API https://grafana.com/docs/grafana/latest/developers/http_api/serviceaccount/#service-account-api
---

# grafana_service_account_rotating_token (Resource)

**Note:** This resource is available only with Grafana 9.1+.

* [Official documentation](https://grafana.com/docs/grafana/latest/administration/service-accounts/)
* [HTTP API](https://grafana.com/docs/grafana/latest/developers/http_api/serviceaccount/#service-account-api)

## Example Usage

```terraform
resource "grafana_service_account" "test" {
  name = "test-service-account"
  role = "Viewer"
}

resource "grafana_service_account_rotating_token" "foo" {
  name_prefix                   = "key_foo"
  service_account_id            = grafana_service_account.test.id
  seconds_to_live               = 7776000 # 3 months
  early_rotation_window_seconds = 604800  # 1 week
}

output "service_account_token_foo_key" {
  value     = grafana_service_account_rotating_token.foo.key
  sensitive = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `early_rotation_window_seconds` (Number) Duration of the time window before expiring where the token can be rotated, in seconds.
- `name_prefix` (String) Prefix for the name of the service account tokens created by this resource. The actual name will be stored in the computed field `name`, which will be in the format `<name_prefix>-<expiration timestamp>`
- `seconds_to_live` (Number) The token expiration in seconds.
- `service_account_id` (String) The ID of the service account to which the token belongs.

### Optional

- `delete_on_destroy` (Boolean) Deletes the service account token in Grafana when the resource is destroyed in Terraform, instead of leaving it to expire at its `expiration` time. Use it with `lifecycle { create_before_destroy = true }` to make sure that the new token is created before the old one is deleted. Defaults to `false`.

### Read-Only

- `expiration` (String) The expiration date of the service account token.
- `has_expired` (Boolean) The status of the service account token.
- `id` (String) The ID of this resource.
- `key` (String, Sensitive) The key of the service account token.
- `name` (String) The name of the service account token.
- `ready_for_rotation` (Boolean) Signals that the service account token is expired or within the period to be early rotated.
