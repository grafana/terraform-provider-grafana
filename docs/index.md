---
layout: ""
page_title: "Provider: Grafana"
description: |-
  The Grafana provider provides configuration management resources for Grafana.
---

# Grafana Provider

The Grafana provider provides configuration management resources for
[Grafana](https://grafana.com/).

## Example Usage

```terraform
provider "grafana" {
  url  = "http://grafana.example.com/"
  auth = var.grafana_auth
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- **auth** (String, Sensitive) API token or basic auth username:password. May alternatively be set via the `GRAFANA_AUTH` environment variable.
- **ca_cert** (String) Certificate CA bundle to use to verify the Grafana server's certificate. May alternatively be set via the `GRAFANA_CA_CERT` environment variable.
- **insecure_skip_verify** (Boolean) Skip TLS certificate verification. May alternatively be set via the `GRAFANA_INSECURE_SKIP_VERIFY` environment variable.
- **org_id** (Number) The organization id to operate on within grafana. May alternatively be set via the `GRAFANA_ORG_ID` environment variable.
- **retries** (Number) The amount of retries to use for Grafana API calls. May alternatively be set via the `GRAFANA_RETRIES` environment variable.
- **sm_access_token** (String, Sensitive) A Synthetic Monitoring access token. May alternatively be set via the `GRAFANA_SM_ACCESS_TOKEN` environment variable.
- **sm_url** (String) Synthetic monitoring backend address. May alternatively be set via the `GRAFANA_SM_URL` environment variable.
- **tls_cert** (String) Client TLS certificate file to use to authenticate to the Grafana server. May alternatively be set via the `GRAFANA_TLS_CERT` environment variable.
- **tls_key** (String) Client TLS key file to use to authenticate to the Grafana server. May alternatively be set via the `GRAFANA_TLS_KEY` environment variable.
- **url** (String) The root URL of a Grafana server. May alternatively be set via the `GRAFANA_URL` environment variable.

## Authentication

### `auth`

This can be a Grafana API key, basic auth `username:password`, or a
[Grafana API key](https://grafana.com/docs/grafana/latest/http_api/create-api-tokens-for-org/).

### `sm_access_token`

[Synthetic Monitoring](https://grafana.com/docs/grafana-cloud/synthetic-monitoring/)
endpoints require a dedicated access token. You may obtain an access token with its
[Registration API](https://github.com/grafana/synthetic-monitoring-api-go-client/blob/main/docs/API.md#registration-api).

```console
curl \
  -X POST \
  -H 'Content-type: application/json; charset=utf-8' \
  -H "Authorization: Bearer $GRAFANA_CLOUD_API_KEY" \
  -d '{"stackId": <stack-id>, "metricsInstanceId": <metrics-instance-id>, "logsInstanceId": <logs-instance-id>}' \
  "$SM_API_URL/api/v1/register/install"
```

`GRAFANA_CLOUD_API_KEY` is an API key created on the
[Grafana Cloud Portal](https://grafana.com/docs/grafana-cloud/cloud-portal/create-api-key/).
It must have the `MetricsPublisher` role.

`SM_API_URL` is the URL of the Synthetic Monitoring API.
Based on the region of your Grafana Cloud stack, you need to use a different API URL.

Please [see API docs](https://github.com/grafana/synthetic-monitoring-api-go-client/blob/main/docs/API.md#api-url) to find `SM_API_URL` for your region.

`stackId`, `metricsInstanceId`, and `logsInstanceId` may also be obtained on
the portal. First you need to create a Stack by clicking "Add Stack". When it's
created you will be taken to its landing page on the portal. Get your `stackId`
from the URL in your browser:

```http
https://grafana.com/orgs/<org-slug>/stacks/<stack-id>
```

Next, go to "Details" for Prometheus. Again, get `metricsInstanceId` from your URL:

```http
https://grafana.com/orgs/<org-slug>/hosted-metrics/<metrics-instance-id>
```

Finally, go back to your stack page, and go to "Details" for Loki to get
`logsInstanceId`.

```http
https://grafana.com/orgs/<org-slug>/hosted-logs/<logs-instance-id>
```
