# GENERATED BY .github/gen.jsonnet. DO NOT MODIFY MANUALLY
jobs:
  oss_10_0_6:
    name: "OSS: 10.0.6"
    runs-on: "ubuntu-latest"
    services:
      grafana:
        image: "grafana/grafana:10.0.6"
        options: "--health-cmd=\"curl -f http://localhost:3000/api/health || exit 1\" --health-retries=10 --health-interval=10s"
        ports:
        - "3000:3000"
    steps:
    - name: "Checkout"
      uses: "actions/checkout@v4"
    - name: "Install Terraform"
      uses: "hashicorp/setup-terraform@v2"
      with:
        terraform_wrapper: false
    - env:
        GRAFANA_AUTH: "admin:admin"
        GRAFANA_URL: "http://localhost:3000/"
        GRAFANA_VERSION: "10.0.6"
      name: "Run tests"
      run: "make testacc-oss"
  oss_10_1_2:
    name: "OSS: 10.1.2"
    runs-on: "ubuntu-latest"
    services:
      grafana:
        image: "grafana/grafana:10.1.2"
        options: "--health-cmd=\"curl -f http://localhost:3000/api/health || exit 1\" --health-retries=10 --health-interval=10s"
        ports:
        - "3000:3000"
    steps:
    - name: "Checkout"
      uses: "actions/checkout@v4"
    - name: "Install Terraform"
      uses: "hashicorp/setup-terraform@v2"
      with:
        terraform_wrapper: false
    - env:
        GRAFANA_AUTH: "admin:admin"
        GRAFANA_URL: "http://localhost:3000/"
        GRAFANA_VERSION: "10.1.2"
      name: "Run tests"
      run: "make testacc-oss"
  oss_9_5_10:
    name: "OSS: 9.5.10"
    runs-on: "ubuntu-latest"
    services:
      grafana:
        image: "grafana/grafana:9.5.10"
        options: "--health-cmd=\"curl -f http://localhost:3000/api/health || exit 1\" --health-retries=10 --health-interval=10s"
        ports:
        - "3000:3000"
    steps:
    - name: "Checkout"
      uses: "actions/checkout@v4"
    - name: "Install Terraform"
      uses: "hashicorp/setup-terraform@v2"
      with:
        terraform_wrapper: false
    - env:
        GRAFANA_AUTH: "admin:admin"
        GRAFANA_URL: "http://localhost:3000/"
        GRAFANA_VERSION: "9.5.10"
      name: "Run tests"
      run: "make testacc-oss"
  oss_long_10_0_6:
    name: "OSS Long-Running: 10.0.6"
    runs-on: "ubuntu-latest"
    services:
      grafana:
        image: "grafana/grafana:10.0.6"
        options: "--health-cmd=\"curl -f http://localhost:3000/api/health || exit 1\" --health-retries=10 --health-interval=10s"
        ports:
        - "3000:3000"
    steps:
    - name: "Checkout"
      uses: "actions/checkout@v4"
    - name: "Install Terraform"
      uses: "hashicorp/setup-terraform@v2"
      with:
        terraform_wrapper: false
    - env:
        GRAFANA_AUTH: "admin:admin"
        GRAFANA_URL: "http://localhost:3000/"
        GRAFANA_VERSION: "10.0.6"
      name: "Run tests"
      run: "make testacc-oss-long"
  oss_long_10_1_2:
    name: "OSS Long-Running: 10.1.2"
    runs-on: "ubuntu-latest"
    services:
      grafana:
        image: "grafana/grafana:10.1.2"
        options: "--health-cmd=\"curl -f http://localhost:3000/api/health || exit 1\" --health-retries=10 --health-interval=10s"
        ports:
        - "3000:3000"
    steps:
    - name: "Checkout"
      uses: "actions/checkout@v4"
    - name: "Install Terraform"
      uses: "hashicorp/setup-terraform@v2"
      with:
        terraform_wrapper: false
    - env:
        GRAFANA_AUTH: "admin:admin"
        GRAFANA_URL: "http://localhost:3000/"
        GRAFANA_VERSION: "10.1.2"
      name: "Run tests"
      run: "make testacc-oss-long"
  oss_long_9_5_10:
    name: "OSS Long-Running: 9.5.10"
    runs-on: "ubuntu-latest"
    services:
      grafana:
        image: "grafana/grafana:9.5.10"
        options: "--health-cmd=\"curl -f http://localhost:3000/api/health || exit 1\" --health-retries=10 --health-interval=10s"
        ports:
        - "3000:3000"
    steps:
    - name: "Checkout"
      uses: "actions/checkout@v4"
    - name: "Install Terraform"
      uses: "hashicorp/setup-terraform@v2"
      with:
        terraform_wrapper: false
    - env:
        GRAFANA_AUTH: "admin:admin"
        GRAFANA_URL: "http://localhost:3000/"
        GRAFANA_VERSION: "9.5.10"
      name: "Run tests"
      run: "make testacc-oss-long"
  tls_proxy:
    name: "TLS Proxy"
    runs-on: "ubuntu-latest"
    services:
      grafana:
        image: "grafana/grafana:10.1.2"
        options: "--health-cmd=\"curl -f http://localhost:3000/api/health || exit 1\" --health-retries=10 --health-interval=10s"
        ports:
        - "3000:3000"
    steps:
    - name: "Checkout"
      uses: "actions/checkout@v4"
    - name: "Install Terraform"
      uses: "hashicorp/setup-terraform@v2"
      with:
        terraform_wrapper: false
    - env:
        GRAFANA_AUTH: "admin:admin"
        GRAFANA_URL: "http://localhost:3000/"
        GRAFANA_VERSION: "10.1.2"
      name: "Run tests"
      run: "make testacc-oss"
name: "tests"
"on":
  pull_request:
    branches:
    - "master"
    - "main"
  push:
    branches:
    - "master"
    - "main"